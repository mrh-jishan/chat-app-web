{"version":3,"sources":["history.js","reducers.js","loadState.js","components/Topic.js","pages/Message/actions.js","pages/Message/reducer.js","api.js","pages/Message/selectors.js","pages/Message/saga.js","pages/Message/index.js","constant/index.js","pages/Chat/actions.js","pages/Chat/reducer.js","pages/Chat/selectors.js","pages/Chat/saga.js","pages/Chat/index.js","pages/Home/actions.js","pages/Home/reducer.js","pages/Home/selectors.js","pages/Home/saga.js","pages/Home/index.js","pages/Register/actions.js","pages/Register/reducer.js","pages/Register/selectors.js","pages/Register/saga.js","pages/Register/index.js","App.js","configureStore.js","reportWebVitals.js","index.js"],"names":["history","createHashHistory","hashType","createReducer","injectedReducers","rootReducer","combineReducers","router","connectRouter","layout","labelCol","span","wrapperCol","tailLayout","offset","Topic","form","isModalVisible","handleOk","handleCancel","title","centered","visible","onOk","onCancel","footer","onFinish","align","justify","Item","label","name","rules","required","message","type","htmlType","MESSAGE_REQUEST","MESSAGE_SUCCESS","MESSAGE_ERROR","NEW_MESSAGE_REQUEST","NEW_MESSAGE_SUCCESS","NEW_MESSAGE_ERROR","NEW_SOCKET_MESSAGE_SUCCESS","initialState","content","isLoading","error","messages","slug","loginPageReducer","produce","draft","action","push","request","axios","create","API_HOST","process","interceptors","use","config","token","localStorage","getItem","headers","Authorization","onLogin","user","post","then","res","data","catch","err","response","onRegister","onChatroom","get","onCreateChatroom","topic","chatroom","onLoadMessage","onCreateMessage","messageState","state","messageList","makeSelectSlug","createSelector","substate","onMessage","onNewMessage","loginPageSaga","select","call","success","put","console","log","takeLatest","TextArea","Input","key","Message","useInjectReducer","reducer","useInjectSaga","saga","dispatch","useDispatch","stateSelector","createStructuredSelector","useSelector","useParams","Form","useForm","useEffect","actionCable","createConsumer","subscriptions","channel","chatroom_slug","connected","disconnected","received","messageAction","className","header","length","itemLayout","dataSource","renderItem","item","actions","author","username","avatar","datetime","created_at","resetFields","rows","OPEN_MODAL_REQUEST","CLOSE_MODAL_REQUEST","CHAT_REQUEST","CHAT_SUCCESS","CHAT_ERROR","CHAT_CREATE_REQUEST","CHAT_CREATE_SUCCESS","CHAT_CREATE_ERROR","chatroomCreateSuccessAction","chatroomCreateErrorAction","rooms","modalOpen","chatPageReducer","chatroomState","createChatroom","chatroomPageSaga","notification","info","description","placement","Header","Layout","Content","Chat","useRouteMatch","path","url","style","padding","marginTop","minHeight","Title","gutter","onClick","chatroomCreateAction","map","room","index","to","exact","component","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","loginSuccessAction","body","isLogged","authState","auth","login","setItem","Home","initialValues","password","loginAction","Password","Paragraph","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_ERROR","registerSuccessAction","registerState","register","Register","first_name","last_name","store","composeEnhancers","compose","reduxSagaMonitorOptions","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","sagaMiddleware","createSagaMiddleware","runSaga","run","middlewares","routerMiddleware","logger","enhancers","applyMiddleware","createInjectorsEnhancer","createStore","configureStore","serializedState","JSON","parse","e","loadState","App","from","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.412859a9.chunk.js","sourcesContent":["import { createHashHistory } from 'history';\n\nconst history = createHashHistory({ hashType: \"hashbang\" });\n\nexport default history;\n","import { connectRouter } from 'connected-react-router';\nimport { combineReducers } from 'redux';\nimport history from './history';\n\nexport default function createReducer(injectedReducers = {}) {\n  const rootReducer = combineReducers({\n    router: connectRouter(history),\n    ...injectedReducers,\n  });\n\n  return rootReducer;\n}\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('bankapp_state');\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (e) {\n    return undefined;\n  }\n};\n\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    return localStorage.setItem('bankapp_state', serializedState);\n  } catch (e) {\n    return undefined;\n  }\n};\n","import { Button, Col, Form, Input, Modal, Row } from 'antd';\nimport React from 'react';\n\nconst layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n};\n\nconst Topic = ({ form, isModalVisible, handleOk, handleCancel }) => {\n\n    return (\n        <>\n            <Modal title=\"Create Chat Topic\"\n                centered\n                visible={isModalVisible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n                footer={null}>\n                <Form\n                    {...layout}\n                    form={form}\n                    onFinish={handleOk}\n                >\n                    <Row align='middle'\n                        justify='center'>\n                        <Col span={16}>\n                            <Form.Item\n                                label=\"Topic Name\"\n                                name=\"topic\"\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: 'Please input your topic name!',\n                                    },\n                                ]}\n                            >\n                                <Input />\n                            </Form.Item>\n\n                            <Form.Item {...tailLayout}>\n                                <Button type=\"primary\" htmlType=\"submit\">\n                                    Submit\n                                </Button>\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                </Form>\n            </Modal>\n        </>\n    )\n}\n\nexport default Topic;","export const MESSAGE_REQUEST = 'app/MessagePage/MESSAGE_REQUEST';\nexport const MESSAGE_SUCCESS = 'app/MessagePage/MESSAGE_SUCCESS';\nexport const MESSAGE_ERROR = 'app/MessagePage/MESSAGE_ERROR';\n\nexport const NEW_MESSAGE_REQUEST = 'app/MessagePage/NEW_MESSAGE_REQUEST';\nexport const NEW_MESSAGE_SUCCESS = 'app/MessagePage/NEW_MESSAGE_SUCCESS';\nexport const NEW_MESSAGE_ERROR = 'app/MessagePage/NEW_MESSAGE_ERROR';\n\nexport const NEW_SOCKET_MESSAGE_SUCCESS = 'app/MessagePage/NEW_SOCKET_MESSAGE_SUCCESS';\n\n\nexport function messageAction(slug) {\n  return {\n    slug,\n    type: MESSAGE_REQUEST,\n  };\n}\n\nexport function messageSuccessAction(messages) {\n  return {\n    type: MESSAGE_SUCCESS,\n    messages,\n  };\n}\n\nexport function messageErrorAction(error) {\n  return {\n    type: MESSAGE_ERROR,\n    error,\n  };\n}\n\nexport function newMessageAction(content) {\n  return {\n    type: NEW_MESSAGE_REQUEST,\n    content,\n  };\n}\n\nexport function newMessageSuccessAction(message) {\n  return {\n    type: NEW_MESSAGE_SUCCESS,\n    message,\n  };\n}\n\nexport function newMessageErrorAction(error) {\n  return {\n    type: NEW_MESSAGE_ERROR,\n    error,\n  };\n}\n\nexport function addNewMessageSocketAction(message) {\n  return {\n    type: NEW_SOCKET_MESSAGE_SUCCESS,\n    message,\n  };\n}","/*\n *\n * LoginPage reducer\n *\n */\n\nimport produce from 'immer';\nimport { MESSAGE_ERROR, MESSAGE_REQUEST, MESSAGE_SUCCESS, NEW_MESSAGE_ERROR, NEW_MESSAGE_REQUEST, NEW_MESSAGE_SUCCESS, NEW_SOCKET_MESSAGE_SUCCESS } from './actions';\n\nexport const initialState = {\n  content: null,\n  isLoading: false,\n  error: {},\n  messages: [],\n  slug: null,\n  message: {}\n};\n\nconst loginPageReducer = produce((draft, action) => {\n  switch (action.type) {\n    case MESSAGE_REQUEST:\n      draft.slug = action.slug;\n      draft.isLoading = true;\n      break;\n    case MESSAGE_SUCCESS:\n      draft.messages = action.messages;\n      draft.isLoading = false;\n      break;\n    case MESSAGE_ERROR:\n      draft.isLoading = false;\n      draft.error = action.error;\n      break;\n\n    case NEW_MESSAGE_REQUEST:\n      draft.isLoading = true;\n      draft.content = action.content\n      break;\n    case NEW_MESSAGE_SUCCESS:\n      draft.message = action.message;\n      draft.isLoading = false;\n      break;\n    case NEW_MESSAGE_ERROR:\n      draft.isLoading = false;\n      draft.error = action.error;\n      break;\n\n    case NEW_SOCKET_MESSAGE_SUCCESS:\n      draft.messages.push(action.message);\n      break;\n    default:\n      return draft;\n  }\n}, initialState);\n\nexport default loginPageReducer;\n","import axios from 'axios';\n\nconst request = axios.create();\nconst API_HOST = process.env.REACT_APP_API_HOST || 'http://localhost:4000'\n// const WS_HOST = process.env.REACT_APP_WS_HOST || 'ws://localhost:4000/cable'\n\nrequest.interceptors.request.use((config) => {\n  const token = localStorage.getItem(\"token\");\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n})\n\nexport const onLogin = (user) => {\n  return axios.post(`${API_HOST}/login`, { user })\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n};\n\nexport const onRegister = (user) => {\n  return axios.post(`${API_HOST}/signup`, { user })\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n}\n\nexport const onChatroom = (user) => {\n  return request.get(`${API_HOST}/chatrooms`)\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n};\n\nexport const onCreateChatroom = (topic) => {\n  return request.post(`${API_HOST}/chatrooms`, { chatroom: topic })\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n}\n\nexport const onLoadMessage = (slug) => {\n  return request.get(`${API_HOST}/chatrooms/${slug}/messages`)\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n}\n\nexport const onCreateMessage = (slug, content) => {\n  return request.post(`${API_HOST}/chatrooms/${slug}/messages`,\n    {\n      message: { content }\n    })\n    .then(res => res.data)\n    .catch(err => err.response.data || err.response)\n}","import { createSelector } from 'reselect';\nimport { initialState } from './reducer';\n\nconst messageState = state => state.messageList || initialState\n\nconst makeSelectContent = () =>\n  createSelector(messageState, (substate) => substate.content);\n\n  const makeSelectSlug = () =>\n  createSelector(messageState, (substate) => substate.slug);\n\nconst makeSelectMessages = () =>\n  createSelector(messageState, (substate) => substate.messages);\n\n\nexport {\n  messageState,\n  makeSelectContent,\n  makeSelectMessages,\n  makeSelectSlug,\n};\n","import { call, put, select, takeLatest } from 'redux-saga/effects';\nimport { onCreateMessage, onLoadMessage } from '../../api';\nimport { messageSuccessAction, MESSAGE_REQUEST, newMessageSuccessAction, NEW_MESSAGE_REQUEST } from './actions';\nimport { makeSelectContent, makeSelectSlug } from './selectors';\n\nexport function* onMessage() {\n  const slug = yield select(makeSelectSlug());\n  try {\n    const { data, success } = yield call(onLoadMessage, slug);\n    if (success) {\n      yield put(messageSuccessAction(data.messages));\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n  }\n}\n\nexport function* onNewMessage() {\n  const slug = yield select(makeSelectSlug());\n  const content = yield select(makeSelectContent());\n  try {\n    const { data, success } = yield call(onCreateMessage, slug, content);\n    if (success) {\n      yield put(newMessageSuccessAction(data.message));\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n  }\n}\n\nexport default function* loginPageSaga() {\n  yield takeLatest(MESSAGE_REQUEST, onMessage);\n  yield takeLatest(NEW_MESSAGE_REQUEST, onNewMessage);\n}\n","import actionCable from 'actioncable';\nimport { Button, Comment, Form, Input, List } from 'antd';\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from \"react-router-dom\";\nimport { useInjectReducer, useInjectSaga } from 'redux-injectors';\nimport { createStructuredSelector } from 'reselect';\nimport { WS_HOST } from '../../constant';\nimport { addNewMessageSocketAction, messageAction, newMessageAction } from './actions';\nimport reducer from './reducer';\nimport saga from './saga';\nimport { makeSelectMessages } from './selectors';\n\nconst { TextArea } = Input;\n\nconst layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n};\n\nconst key = 'messageList';\n\nconst Message = () => {\n\n    useInjectReducer({ key, reducer });\n    useInjectSaga({ key, saga });\n\n    const dispatch = useDispatch();\n    const stateSelector = createStructuredSelector({\n        messages: makeSelectMessages(),\n    });\n    const { messages } = useSelector(stateSelector);\n\n    const { slug } = useParams();\n    const [form] = Form.useForm();\n\n    useEffect(() => {\n        const cable = actionCable.createConsumer(WS_HOST);\n        cable.subscriptions.create({\n            channel: `MessagesChannel`,\n            chatroom_slug: `messages_${slug}`\n        }, {\n            connected: () => {\n                console.log(\"connected!\")\n            },\n            disconnected: () => {\n                console.log('disconnected');\n            },\n            received: data => {\n                console.log('socket data----------------', data);\n                // setMessages(prevArray => [...prevArray, data.message])\n                dispatch(addNewMessageSocketAction(data.message))\n\n            }\n        })\n    }, [slug, dispatch])\n\n    useEffect(() => {\n        dispatch(messageAction(slug));\n    }, [slug, dispatch])\n\n    return (\n        <div>\n            <h3>Chat Room: {slug}</h3>\n            <List\n                className=\"comment-list\"\n                header={`${messages.length} replies`}\n                itemLayout=\"horizontal\"\n                dataSource={messages}\n                renderItem={item => (\n                    <li>\n                        <Comment\n                            actions={item.actions}\n                            author={item.user.username}\n                            avatar='https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png'\n                            content={item.content}\n                            datetime={item.created_at}\n                        />\n                    </li>\n                )}\n            />\n\n            <Form\n                {...layout}\n                name=\"basic\"\n                onFinish={(message) => { dispatch(newMessageAction(message.content)); form.resetFields(); }}\n                form={form}\n            >\n                <Form.Item\n                    name=\"content\"\n                    rules={[\n                        {\n                            required: true,\n                            message: 'Please input your message!',\n                        },\n                    ]}\n                >\n                    <TextArea rows={4} />\n                </Form.Item>\n\n                <Form.Item {...tailLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\"> Submit </Button>\n                </Form.Item>\n            </Form>\n        </div >\n    );\n}\n\nexport default Message;","export const API_HOST = process.env.REACT_APP_API_HOST || 'http://localhost:4000'\n\nexport const WS_HOST = process.env.REACT_APP_WS_HOST || 'ws://localhost:4000/cable'\n","export const OPEN_MODAL_REQUEST = 'app/ChatPage/OPEN_MODAL_REQUEST';\nexport const CLOSE_MODAL_REQUEST = 'app/ChatPage/CLOSE_MODAL_REQUEST';\nexport const CHAT_REQUEST = 'app/ChatPage/CHAT_REQUEST';\nexport const CHAT_SUCCESS = 'app/ChatPage/CHAT_SUCCESS';\nexport const CHAT_ERROR = 'app/ChatPage/CHAT_ERROR';\nexport const CHAT_CREATE_REQUEST = 'app/ChatPage/CHAT_CREATE_REQUEST';\nexport const CHAT_CREATE_SUCCESS = 'app/ChatPage/CHAT_CREATE_SUCCESS';\nexport const CHAT_CREATE_ERROR = 'app/ChatPage/CHAT_CREATE_ERROR';\n\n\nexport function opneModalAction() {\n  return {\n    type: OPEN_MODAL_REQUEST,\n  };\n}\n\nexport function closeModalAction() {\n  return {\n    type: CLOSE_MODAL_REQUEST,\n  };\n}\n\nexport function chatroomAction() {\n  return {\n    type: CHAT_REQUEST,\n  };\n}\n\nexport function chatroomSuccessAction(rooms) {\n  return {\n    type: CHAT_SUCCESS,\n    rooms,\n  };\n}\n\nexport function chatroomErrorAction(error) {\n  return {\n    type: CHAT_ERROR,\n    error,\n  };\n}\n\nexport function chatroomCreateAction(topic) {\n  return {\n    type: CHAT_CREATE_REQUEST,\n    topic\n  };\n}\n\nexport function chatroomCreateSuccessAction(chatroom, message) {\n  return {\n    type: CHAT_CREATE_SUCCESS,\n    chatroom,\n    message\n  };\n}\n\nexport function chatroomCreateErrorAction(error, message) {\n  return {\n    type: CHAT_CREATE_ERROR,\n    error,\n    message\n  };\n}","/*\n *\n * LoginPage reducer\n *\n */\n\nimport produce from 'immer';\nimport {\n  CHAT_CREATE_ERROR,\n  CHAT_CREATE_REQUEST,\n  CHAT_CREATE_SUCCESS,\n  CHAT_ERROR,\n  CHAT_REQUEST,\n  CHAT_SUCCESS,\n  CLOSE_MODAL_REQUEST,\n  OPEN_MODAL_REQUEST\n} from './actions';\n\nexport const initialState = {\n  rooms: [],\n  isLoading: false,\n  error: {},\n  topic: {},\n  message: \"\",\n  modalOpen: false,\n};\n\nconst chatPageReducer = produce((draft, action) => {\n  switch (action.type) {\n    case CHAT_REQUEST:\n      draft.isLoading = true;\n      break;\n    case CHAT_SUCCESS:\n      draft.rooms = action.rooms;\n      draft.isLoading = false;\n      break;\n    case CHAT_ERROR:\n      draft.error = action.error;\n      draft.isLoading = false;\n      break;\n\n    case CHAT_CREATE_REQUEST:\n      draft.isLoading = true;\n      draft.topic = action.topic\n      break;\n    case CHAT_CREATE_SUCCESS:\n      console.log('action: ', action);\n      draft.rooms.push(action.chatroom);\n      draft.message = action.message;\n      draft.isLoading = false;\n      draft.modalOpen = false;\n      break;\n    case CHAT_CREATE_ERROR:\n      console.log('action: ', action);\n      draft.error = action.error;\n      draft.message = action.message;\n      draft.isLoading = true;\n      break;\n\n    case OPEN_MODAL_REQUEST:\n      draft.modalOpen = true;\n      break;\n\n    case CLOSE_MODAL_REQUEST:\n      draft.modalOpen = false;\n      break;\n    default:\n      return draft;\n  }\n}, initialState);\n\nexport default chatPageReducer;\n","import { createSelector } from 'reselect';\nimport { initialState } from './reducer';\n\nconst chatroomState = state => state.chatroom || initialState\n\nconst makeSelectRooms = () =>\n  createSelector(chatroomState, (substate) => substate.rooms);\n\nconst makeSelectError = () =>\n  createSelector(chatroomState, (substate) => substate.error);\n\nconst makeSelectModalOpen = () =>\n  createSelector(chatroomState, (substate) => substate.modalOpen);\n\n  const makeSelectMessage = () =>\n  createSelector(chatroomState, (substate) => substate.message);\n\nconst makeSelectTopic = () =>\n  createSelector(chatroomState, (substate) => substate.topic);\n\nexport {\n  chatroomState,\n  makeSelectRooms,\n  makeSelectError,\n  makeSelectModalOpen,\n  makeSelectTopic,\n  makeSelectMessage,\n};\n","import { notification } from 'antd';\nimport { call, put, select, takeLatest } from 'redux-saga/effects';\nimport { onChatroom, onCreateChatroom } from '../../api';\nimport {\n  chatroomCreateErrorAction,\n  chatroomCreateSuccessAction,\n  chatroomSuccessAction,\n  CHAT_CREATE_REQUEST,\n  CHAT_REQUEST\n} from './actions';\nimport { makeSelectTopic } from './selectors';\n\nexport function* chatroom() {\n  try {\n    const { data, success } = yield call(onChatroom);\n    console.log('res login: ', data);\n    if (success) {\n      yield put(chatroomSuccessAction(data.rooms));\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n  }\n}\n\nexport function* createChatroom() {\n  const topic = yield select(makeSelectTopic());\n  try {\n    const { data, success, message } = yield call(onCreateChatroom, topic);\n    if (success) {\n      yield put(chatroomCreateSuccessAction(data.chatroom, message));\n      notification.info({\n        description: message,\n        placement: 'bottomRight',\n      });\n    } else {\n      yield put(chatroomCreateErrorAction({}, message));\n      notification.error({\n        message: message,\n        placement: 'bottomRight'\n      })\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n    yield put(chatroomCreateErrorAction(err, \"\"));\n    notification.error({\n      message: err,\n      placement: 'bottomRight'\n    })\n  }\n}\nexport default function* chatroomPageSaga() {\n  yield takeLatest(CHAT_REQUEST, chatroom);\n  yield takeLatest(CHAT_CREATE_REQUEST, createChatroom);\n}\n","import { Button, Card, Col, Form, Layout, Row, Typography } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link, Route, Switch, useRouteMatch } from \"react-router-dom\";\nimport { useInjectReducer, useInjectSaga } from 'redux-injectors';\nimport { createStructuredSelector } from 'reselect';\nimport Topic from '../../components/Topic';\nimport Message from '../Message';\nimport { chatroomAction, chatroomCreateAction, closeModalAction, opneModalAction } from './actions';\nimport reducer from './reducer';\nimport saga from './saga';\nimport { makeSelectModalOpen, makeSelectRooms } from './selectors';\n\nconst { Header, Content } = Layout;\n\nconst key = 'chatroom';\n\nconst Chat = () => {\n\n    useInjectReducer({ key, reducer });\n    useInjectSaga({ key, saga });\n\n    const dispatch = useDispatch();\n    const stateSelector = createStructuredSelector({\n        rooms: makeSelectRooms(),\n        isModalVisible: makeSelectModalOpen(),\n    });\n    const { rooms, isModalVisible } = useSelector(stateSelector);\n    const { path, url } = useRouteMatch();\n    const [form] = Form.useForm();\n\n    useEffect(() => {\n        dispatch(chatroomAction());\n    }, [dispatch])\n\n    return (\n        <>\n            <Layout>\n                <Header>\n                    <div className=\"logo\" />\n                </Header>\n                <Content style={{ padding: '0 50px', marginTop: 64 }}>\n                    <Row align='middle' justify='center' style={{ minHeight: '300px' }}>\n                        <Col span={24}>\n                            <Typography.Title>Welcome to Chat App</Typography.Title>\n                            <Row\n                                gutter={[16, 16]}\n                                align='middle'\n                                justify='center'>\n\n                                <Col span={24}>\n                                    <h2>Chat Topic</h2>\n                                    <Button\n                                        type=\"primary\"\n                                        onClick={() => dispatch(opneModalAction())}>\n                                        Create Topic\n                                    </Button>\n                                    <Topic\n                                        form={form}\n                                        isModalVisible={isModalVisible}\n                                        handleOk={(topic) => dispatch(chatroomCreateAction(topic))}\n                                        handleCancel={() => dispatch(closeModalAction())} />\n                                </Col>\n                                <Col span={10}>\n                                    <Card>\n                                        <ul>\n                                            {rooms.length <= 0 && (\n                                                <h3> No topic found </h3>\n                                            )}\n                                            {rooms.map((room, index) => (\n                                                <li key={index}>\n                                                    <Link to={`${url}/${room.slug}`}>{room.topic}</Link>\n                                                </li>\n                                            ))}\n                                        </ul>\n                                    </Card>\n                                </Col>\n\n                                <Col span={14}>\n                                    <Card>\n                                        <Switch>\n                                            <Route exact path={path} component={() => <h3>Please select a chat topic.</h3>} />\n                                            <Route path={`${path}/:slug`} component={Message} />\n                                        </Switch>\n                                    </Card>\n                                </Col>\n                            </Row>,\n                        </Col>\n                    </Row>\n                </Content>\n            </Layout>\n            <Link to=\"/\">Go Back</Link>\n        </>\n    )\n}\n\nexport default Chat;","export const LOGIN_REQUEST = 'app/LoginPage/LOGIN_REQUEST';\nexport const LOGIN_SUCCESS = 'app/LoginPage/LOGIN_SUCCESS';\nexport const LOGIN_ERROR = 'app/LoginPage/LOGIN_ERROR';\n\n\nexport function loginAction(user) {\n  return {\n    user,\n    type: LOGIN_REQUEST,\n  };\n}\n\nexport function loginSuccessAction(user, token) {\n  return {\n    type: LOGIN_SUCCESS,\n    user,\n    token,\n  };\n}\n\nexport function loginErrorAction(error) {\n  return {\n    type: LOGIN_ERROR,\n    error,\n  };\n}\n","/*\n *\n * LoginPage reducer\n *\n */\n\nimport produce from 'immer';\nimport { LOGIN_ERROR, LOGIN_REQUEST, LOGIN_SUCCESS } from './actions';\n\nexport const initialState = {\n  body: {},\n  token: '',\n  isLoading: false,\n  isLogged: false,\n  error: {},\n  user: {}\n};\n\nconst loginPageReducer = produce((draft, action) => {\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      draft.body = action.user;\n      draft.isLoading = true;\n      break;\n    case LOGIN_SUCCESS:\n      draft.token = action.token;\n      draft.user = action.user;\n      draft.isLogged = true;\n      draft.isLoading = false;\n      break;\n    case LOGIN_ERROR:\n      draft.body = action.error;\n      draft.isLoading = false;\n      break;\n    default:\n      return draft;\n  }\n}, initialState);\n\nexport default loginPageReducer;\n","import { createSelector } from 'reselect';\nimport { initialState } from './reducer';\n\nconst authState = state => state.auth || initialState\n\nconst makeSelectBody = () =>\n  createSelector(authState, (substate) => substate.body);\n\n// const makeSelectPassword = () =>\n//   createSelector(selectLoginPageDomain, (substate) => substate.password);\n\n\nexport {\n  authState,\n  makeSelectBody,\n  // makeSelectPassword,\n};\n","import { notification } from 'antd';\nimport { push } from 'connected-react-router';\nimport { call, put, select, takeLatest } from 'redux-saga/effects';\nimport { onLogin } from '../../api';\nimport { loginSuccessAction, LOGIN_REQUEST } from './actions';\nimport { makeSelectBody } from './selectors';\n\nexport function* login() {\n  const user = yield select(makeSelectBody());\n  try {\n    const { data, success, message } = yield call(onLogin, user);\n    if (success) {\n      localStorage.setItem('token', data.token);\n      yield put(loginSuccessAction(data.user, data.token));\n      notification.info({\n        description: message,\n        placement: 'bottomRight',\n      });\n      yield put(push('/chat'));\n    } else {\n      notification.error({\n        description: message,\n        placement: 'bottomRight',\n      });\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n    notification.info({\n      description: err,\n      placement: 'bottomRight',\n    });\n  }\n}\n\nexport default function* loginPageSaga() {\n  yield takeLatest(LOGIN_REQUEST, login);\n}\n","import { Button, Col, Form, Input, Layout, Row, Typography } from 'antd';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from \"react-router-dom\";\nimport { useInjectReducer, useInjectSaga } from 'redux-injectors';\nimport { loginAction } from './actions';\nimport reducer from './reducer';\nimport saga from './saga';\n\nconst { Header, Content } = Layout;\n\nconst layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n};\n\nconst tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n};\n\nconst key = 'auth';\n\nconst Home = () => {\n\n    useInjectReducer({ key, reducer });\n    useInjectSaga({ key, saga });\n    const dispatch = useDispatch();\n\n    return (\n        <>\n            <Layout>\n                <Header>\n                    <div className=\"logo\" />\n                </Header>\n                <Content style={{ padding: '0 50px', marginTop: 64 }}>\n                    <Row align='middle'\n                        justify='center'\n                        style={{ minHeight: '300px' }}>\n                        <Col span={10}>\n                            <Typography.Title>Welcome to Chat App</Typography.Title>\n                            <Form\n                                {...layout}\n                                initialValues={{\n                                    username: 'test',\n                                    password: 'test'\n                                }}\n                                onFinish={(user) => dispatch(loginAction(user))}\n                            >\n                                <Form.Item\n                                    label=\"Username\"\n                                    name=\"username\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your username!',\n                                        },\n                                    ]}\n                                >\n                                    <Input />\n                                </Form.Item>\n\n                                <Form.Item\n                                    label=\"Password\"\n                                    name=\"password\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your password!',\n                                        },\n                                    ]}\n                                >\n                                    <Input.Password />\n                                </Form.Item>\n\n                                <Form.Item {...tailLayout}>\n                                    <Typography.Paragraph>\n                                        Don't you have an account? <Link to=\"/register\"> Register here</Link>\n                                    </Typography.Paragraph>\n                                </Form.Item>\n\n                                <Form.Item {...tailLayout}>\n                                    <Button type=\"primary\" htmlType=\"submit\">Login</Button>\n                                </Form.Item>\n                            </Form>\n                        </Col>\n                    </Row>\n                </Content>\n            </Layout>\n        </>\n    )\n}\n\nexport default Home;","export const REGISTER_REQUEST = 'app/RegisterPage/REGISTER_REQUEST';\nexport const REGISTER_SUCCESS = 'app/RegisterPage/REGISTER_SUCCESS';\nexport const REGISTER_ERROR = 'app/RegisterPage/REGISTER_ERROR';\n\n\nexport function registerAction(body) {\n  return {\n    body,\n    type: REGISTER_REQUEST,\n  };\n}\n\nexport function registerSuccessAction(user, message) {\n  return {\n    type: REGISTER_SUCCESS,\n    user,\n    message,\n  };\n}\n\nexport function registerErrorAction(error, message) {\n  return {\n    type: REGISTER_ERROR,\n    error,\n  };\n}\n","import produce from 'immer';\nimport { REGISTER_ERROR, REGISTER_REQUEST, REGISTER_SUCCESS } from './actions';\n\nexport const initialState = {\n  body: {},\n  message: '',\n  isLoading: false,\n  error: {},\n  user: {}\n};\n\nconst loginPageReducer = produce((draft, action) => {\n  switch (action.type) {\n    case REGISTER_REQUEST:\n      draft.body = action.body;\n      draft.isLoading = true;\n      break;\n    case REGISTER_SUCCESS:\n      draft.message = action.message;\n      draft.user = action.user;\n      draft.isLoading = false;\n      break;\n    case REGISTER_ERROR:\n      draft.body = action.error;\n      draft.message = action.message;\n      draft.isLoading = false;\n      break;\n    default:\n      return draft;\n  }\n}, initialState);\n\nexport default loginPageReducer;\n","import { createSelector } from 'reselect';\nimport { initialState } from './reducer';\n\nconst registerState = state => state.register || initialState\n\nconst makeSelectBody = () =>\n  createSelector(registerState, (substate) => substate.body);\n\nexport {\n  registerState,\n  makeSelectBody,\n};\n","import { notification } from 'antd';\nimport { push } from 'connected-react-router';\nimport { call, put, select, takeLatest } from 'redux-saga/effects';\nimport { onRegister } from '../../api';\nimport { registerErrorAction, registerSuccessAction, REGISTER_REQUEST } from './actions';\nimport { makeSelectBody } from './selectors';\n\nexport function* register() {\n  const user = yield select(makeSelectBody());\n  try {\n    const { data, success, message } = yield call(onRegister, user);\n    if (success) {\n      yield put(registerSuccessAction(data.user, message));\n      yield put(push('/login'));\n      notification.info({\n        description: message,\n        placement: 'bottomRight',\n      });\n    } else {\n      yield put(registerErrorAction({}, message));\n      notification.error({\n        message: message,\n        placement: 'bottomRight'\n      })\n    }\n  } catch (err) {\n    console.log(\"Error => \", err);\n    notification.error({\n      message: err,\n      placement: 'bottomRight'\n    })\n  }\n}\n\nexport default function* loginPageSaga() {\n  yield takeLatest(REGISTER_REQUEST, register);\n}\n","import { Button, Col, Form, Input, Layout, Row, Typography } from 'antd';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from \"react-router-dom\";\nimport { useInjectReducer, useInjectSaga } from 'redux-injectors';\nimport { registerAction } from './actions';\nimport reducer from './reducer';\nimport saga from './saga';\n\nconst { Header, Content } = Layout;\n\nconst layout = {\n    labelCol: { span: 8 },\n    wrapperCol: { span: 16 },\n};\nconst tailLayout = {\n    wrapperCol: { offset: 8, span: 16 },\n};\n\nconst key = 'register';\n\nconst Register = () => {\n    useInjectReducer({ key, reducer });\n    useInjectSaga({ key, saga });\n    const dispatch = useDispatch();\n\n    return (\n        <>\n            <Layout>\n                <Header>\n                    <div className=\"logo\" />\n                </Header>\n                <Content style={{ padding: '0 50px', marginTop: 64 }}>\n                    <Row align='middle'\n                        justify='center'\n                        style={{ minHeight: '300px' }}>\n                        <Col span={10}>\n                            <Typography.Title>Welcome to Chat App</Typography.Title>\n                            <Form\n                                {...layout}\n                                name=\"basic\"\n                                initialValues={{\n                                    username: 'test',\n                                    password: 'test',\n                                    first_name: 'hi',\n                                    last_name: 'there'\n                                }}\n                                onFinish={(user) => dispatch(registerAction(user))}\n                            >\n                                <Form.Item\n                                    label=\"First Name\"\n                                    name=\"first_name\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your first name!',\n                                        },\n                                    ]}\n                                >\n                                    <Input />\n                                </Form.Item>\n\n                                <Form.Item\n                                    label=\"Last Name\"\n                                    name=\"last_name\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your last name!',\n                                        },\n                                    ]}\n                                >\n                                    <Input />\n                                </Form.Item>\n\n                                <Form.Item\n                                    label=\"Username\"\n                                    name=\"username\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your username!',\n                                        },\n                                    ]}\n                                >\n                                    <Input />\n                                </Form.Item>\n\n                                <Form.Item\n                                    label=\"Password\"\n                                    name=\"password\"\n                                    rules={[\n                                        {\n                                            required: true,\n                                            message: 'Please input your password!',\n                                        },\n                                    ]}\n                                >\n                                    <Input.Password />\n                                </Form.Item>\n\n                                <Form.Item {...tailLayout}>\n                                    <Typography.Paragraph>\n                                        Already have an account?   <Link to=\"/\"> Login here</Link>\n                                    </Typography.Paragraph>\n                                </Form.Item>\n\n                                <Form.Item {...tailLayout}>\n                                    <Button type=\"primary\" htmlType=\"submit\">Register</Button>\n                                </Form.Item>\n                            </Form>\n                        </Col>\n                    </Row>\n                </Content>\n            </Layout>\n        </>\n    )\n}\n\nexport default Register;","import { ConnectedRouter } from 'connected-react-router';\nimport { Provider } from 'react-redux';\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport configureStore from './configureStore';\nimport history from './history';\nimport { loadState } from './loadState';\nimport Chat from \"./pages/Chat\";\nimport Home from \"./pages/Home\";\nimport Register from \"./pages/Register\";\n\n\nconst initialState = loadState();\nconst store = configureStore(initialState, history);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <Switch>\n          <Route exact path=\"/login\" component={Home} />\n          <Route exact path=\"/register\" component={Register} />\n          <Route path=\"/chat\" component={Chat} />\n          <Redirect to='/login' from='/' />\n          <Route path='*' exact={true} component={Home} />\n        </Switch>\n      </ConnectedRouter>\n    </Provider>\n  );\n}\n\nexport default App;\n","/**\n * Create the store with dynamic reducers\n */\n\nimport { routerMiddleware } from 'connected-react-router';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport { createInjectorsEnhancer, forceReducerReload } from 'redux-injectors';\nimport logger from 'redux-logger';\nimport createSagaMiddleware from 'redux-saga';\nimport createReducer from './reducers';\n\nexport default function configureStore(initialState = {}, history) {\n  let composeEnhancers = compose;\n  const reduxSagaMonitorOptions = {};\n\n  // If Redux Dev Tools and Saga Dev Tools Extensions are installed, enable them\n  /* istanbul ignore next */\n  if (typeof window === 'object') {\n    /* eslint-disable no-underscore-dangle */\n    if (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n      composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({});\n    }\n  }\n\n  const sagaMiddleware = createSagaMiddleware(reduxSagaMonitorOptions);\n  const { run: runSaga } = sagaMiddleware;\n\n  const middlewares = [sagaMiddleware, routerMiddleware(history), logger];\n\n  const enhancers = [\n    applyMiddleware(...middlewares),\n    createInjectorsEnhancer({\n      createReducer,\n      runSaga,\n    }),\n  ];\n\n  const store = createStore(\n    createReducer(),\n    initialState,\n    composeEnhancers(...enhancers),\n  );\n\n  // Make reducers hot reloadable, see http://mxs.is/googmo\n  /* istanbul ignore next */\n  if (module.hot) {\n    module.hot.accept('./reducers', () => {\n      forceReducerReload(store);\n    });\n  }\n\n  return store;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'antd/dist/antd.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}